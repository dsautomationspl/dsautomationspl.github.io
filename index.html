<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DS Automations | Streamline Your Business</title>
    <meta name="description" content="We create Zapier/Make/n8n automations and simple Android/iOS apps to streamline your business processes.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Space Grotesk', 'sans-serif'], // Modern tech font for headings
                    },
                    colors: {
                        brand: {
                            dark: '#0B0F19',   // Deeper, richer black/blue
                            card: '#111827',   // Card background
                            primary: '#3B82F6', // Blue 500
                            accent: '#8B5CF6',  // Violet 500 (Gradient partner)
                            success: '#10B981', // Emerald 500
                        }
                    },
                    animation: {
                        'marquee': 'marquee 25s linear infinite',
                        'blob': 'blob 7s infinite',
                    },
                    keyframes: {
                        marquee: {
                            '0%': { transform: 'translateX(0%)' },
                            '100%': { transform: 'translateX(-100%)' },
                        },
                        blob: {
                            '0%': { transform: 'translate(0px, 0px) scale(1)' },
                            '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
                            '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
                            '100%': { transform: 'translate(0px, 0px) scale(1)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Modern Glassmorphism & Utilities */
        .glass-nav {
            background: rgba(11, 15, 25, 0.8);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .glass-card:hover {
            background: rgba(255, 255, 255, 0.06);
            border-color: rgba(59, 130, 246, 0.3);
            box-shadow: 0 0 30px -10px rgba(59, 130, 246, 0.2);
        }

        .gradient-text {
            background: linear-gradient(to right, #60a5fa, #a78bfa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* Smooth FAQ expansion */
        .faq-content {
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
            max-height: 0;
            opacity: 0;
            overflow: hidden;
        }
        .faq-item.active .faq-content {
            max-height: 200px;
            opacity: 1;
        }
        .faq-icon {
            transition: transform 0.3s ease;
        }
        .faq-item.active .faq-icon {
            transform: rotate(180deg);
        }

        /* Hide scrollbar for horizontal scroll areas */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Custom Styles for Chatbot */
        #chat-container {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform: scale(0.8) translateY(20px);
            opacity: 0;
            pointer-events: none;
            transform-origin: bottom right;
        }
        #chat-container.open {
            transform: scale(1) translateY(0);
            opacity: 1;
            pointer-events: all;
        }
        .chat-message-ai {
            background-color: #1f2937; /* slate-800 */
            border-radius: 12px 12px 12px 4px;
        }
        .chat-message-user {
            background-color: #3b82f6; /* brand-primary */
            border-radius: 12px 12px 4px 12px;
        }
        #chat-messages {
            max-height: 400px; /* Limit height for mobile/desktop */
            overflow-y: auto;
        }
    </style>
</head>
<body class="bg-brand-dark text-slate-300 font-sans antialiased selection:bg-brand-primary selection:text-white overflow-x-hidden">

    <nav class="fixed w-full z-50 glass-nav">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <div class="flex-shrink-0 flex items-center gap-2">
                    <a href="#" class="text-xl font-bold text-white tracking-tight font-display">
                        <span class="text-brand-primary">DS</span> Automations
                    </a>
                </div>
                
                <div class="hidden md:flex space-x-8 items-center">
                    <a href="#problems" class="hover:text-white transition-colors text-sm font-medium">Solutions</a>
                    <a href="#cases" class="hover:text-white transition-colors text-sm font-medium">Case Studies</a>
                    <a href="#process" class="hover:text-white transition-colors text-sm font-medium">Process</a>
                    <a href="#faq" class="hover:text-white transition-colors text-sm font-medium">FAQ</a>
                    <a href="https://calendar.app.google/j2ce6mmyMGyUxcGk6" target="_blank" class="group relative px-6 py-2.5 rounded-full bg-white text-brand-dark font-bold text-sm transition-all hover:bg-slate-200">
                        Book a Discovery Call
                        <div class="absolute inset-0 -z-10 bg-brand-primary blur-lg opacity-0 group-hover:opacity-40 transition-opacity duration-500"></div>
                    </a>
                </div>

                <div class="md:hidden">
                    <button id="mobile-menu-btn" class="text-slate-300 hover:text-white p-2">
                        <i class="fa-solid fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-brand-dark border-b border-slate-800 absolute w-full">
            <div class="px-4 pt-2 pb-6 space-y-2">
                <a href="#problems" class="block px-3 py-3 text-base font-medium hover:bg-slate-800 rounded-lg text-white">Solutions</a>
                <a href="#cases" class="block px-3 py-3 text-base font-medium hover:bg-slate-800 rounded-lg text-white">Case Studies</a>
                <a href="#process" class="block px-3 py-3 text-base font-medium hover:bg-slate-800 rounded-lg text-white">Process</a>
                <a href="https://calendar.app.google/j2ce6mmyMGyUxcGk6" target="_blank" class="block px-3 py-3 text-base font-bold text-brand-primary">Book a Call</a>
            </div>
        </div>
    </nav>

    <section class="relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden">
        <div class="absolute top-0 left-1/2 -translate-x-1/2 w-full h-full max-w-7xl -z-10 pointer-events-none">
            <div class="absolute top-20 left-10 w-72 h-72 bg-brand-primary/20 rounded-full mix-blend-screen filter blur-3xl animate-blob"></div>
            <div class="absolute top-20 right-10 w-72 h-72 bg-brand-accent/20 rounded-full mix-blend-screen filter blur-3xl animate-blob" style="animation-delay: 2s"></div>
            <div class="absolute -bottom-8 left-1/2 w-72 h-72 bg-brand-success/10 rounded-full mix-blend-screen filter blur-3xl animate-blob" style="animation-delay: 4s"></div>
        </div>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center">
            <div class="inline-flex items-center gap-2 mb-8 px-4 py-1.5 rounded-full border border-slate-700 bg-slate-800/50 backdrop-blur-sm">
                <span class="relative flex h-2 w-2">
                  <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                  <span class="relative inline-flex rounded-full h-2 w-2 bg-green-500"></span>
                </span>
                <span class="text-slate-300 text-xs font-semibold tracking-wide uppercase">Accepting New Clients for Q1 2026</span>
            </div>
            
            <h1 class="text-5xl md:text-7xl font-bold text-white tracking-tight mb-8 leading-[1.1] font-display">
                Automate the Boring.<br>
                <span class="gradient-text">Maximize the Focus.</span>
            </h1>
            
            <p class="mt-4 max-w-2xl mx-auto text-xl text-slate-400 mb-10 leading-relaxed">
                We replace manual data entry, messy spreadsheets, and chaos with custom <strong>Automations (Make/Zapier)</strong> and internal <strong>Apps</strong>.
            </p>
            
            <div class="flex flex-col sm:flex-row justify-center gap-4">
                <a href="https://calendar.app.google/j2ce6mmyMGyUxcGk6" target="_blank" class="bg-white text-brand-dark hover:bg-slate-200 px-8 py-4 rounded-full text-lg font-bold transition-all shadow-[0_0_20px_rgba(255,255,255,0.3)] flex items-center justify-center gap-2 group">
                    <span>Automate My Business</span>
                    <i class="fa-solid fa-arrow-right group-hover:translate-x-1 transition-transform"></i>
                </a>
                <a href="#cases" class="glass-card hover:bg-slate-800 text-white px-8 py-4 rounded-full text-lg font-semibold transition-all border border-slate-700 flex items-center justify-center gap-2">
                    <i class="fa-solid fa-play text-brand-primary text-xs"></i> See Examples
                </a>
            </div>

            <div class="mt-20 relative max-w-5xl mx-auto overflow-hidden mask-image-linear-gradient">
                <p class="text-center text-sm font-semibold text-slate-500 uppercase tracking-wider mb-6">We connect the tools you already use</p>
                <div class="flex overflow-hidden space-x-16 group">
                    <div class="flex space-x-16 animate-marquee whitespace-nowrap">
                        <div class="flex items-center gap-2 text-slate-400"><i class="fa-solid fa-bolt text-xl"></i> <span class="font-bold">Zapier</span></div>
                        <div class="flex items-center gap-2 text-slate-400"><i class="fa-solid fa-infinity text-xl"></i> <span class="font-bold">Make</span></div>
                        <div class="flex items-center gap-2 text-slate-400"><i class="fa-solid fa-network-wired text-xl"></i> <span class="font-bold">n8n</span></div>
                        <div class="flex items-center gap-2 text-slate-400"><i class="fa-brands fa-google text-xl"></i> <span class="font-bold">Sheets</span></div>
                        <div class="flex items-center gap-2 text-slate-400"><i class="fa-brands fa-slack text-xl"></i> <span class="font-bold">Slack</span></div>
                        <div class="flex items-center gap-2 text-slate-400"><i class="fa-solid fa-database text-xl"></i> <span class="font-bold">Airtable</span></div>
                        <div class="flex items-center gap-2 text-slate-400"><i class="fa-solid fa-robot text-xl"></i> <span class="font-bold">ChatGPT</span></div>
                        <div class="flex items-center gap-2 text-slate-400"><i class="fa-brands fa-hubspot text-xl"></i> <span class="font-bold">HubSpot</span></div>
                    </div>
                    <div class="flex space-x-16 animate-marquee whitespace-nowrap" aria-hidden="true">
                         <div class="flex items-center gap-2 text-slate-400"><i class="fa-solid fa-bolt text-xl"></i> <span class="font-bold">Zapier</span></div>
                        <div class="flex items-center gap-2 text-slate-400"><i class="fa-solid fa-infinity text-xl"></i> <span class="font-bold">Make</span></div>
                        <div class="flex items-center gap-2 text-slate-400"><i class="fa-solid fa-network-wired text-xl"></i> <span class="font-bold">n8n</span></div>
                        <div class="flex items-center gap-2 text-slate-400"><i class="fa-brands fa-google text-xl"></i> <span class="font-bold">Sheets</span></div>
                        <div class="flex items-center gap-2 text-slate-400"><i class="fa-brands fa-slack text-xl"></i> <span class="font-bold">Slack</span></div>
                        <div class="flex items-center gap-2 text-slate-400"><i class="fa-solid fa-database text-xl"></i> <span class="font-bold">Airtable</span></div>
                        <div class="flex items-center gap-2 text-slate-400"><i class="fa-solid fa-robot text-xl"></i> <span class="font-bold">ChatGPT</span></div>
                        <div class="flex items-center gap-2 text-slate-400"><i class="fa-brands fa-hubspot text-xl"></i> <span class="font-bold">HubSpot</span></div>
                    </div>
                </div>
                <div class="absolute top-0 left-0 w-20 h-full bg-gradient-to-r from-brand-dark to-transparent z-10"></div>
                <div class="absolute top-0 right-0 w-20 h-full bg-gradient-to-l from-brand-dark to-transparent z-10"></div>
            </div>
        </div>
    </section>

    <section id="problems" class="py-24 border-y border-slate-800/50 bg-slate-900/30">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-3xl font-bold text-white mb-4 font-display">Does this sound like your Monday morning?</h2>
                <p class="text-slate-400">Growth stops when you're stuck in the operational weeds.</p>
            </div>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="glass-card p-8 rounded-2xl border-l-4 border-l-red-500">
                    <i class="fa-solid fa-file-excel text-3xl text-red-500 mb-4"></i>
                    <h3 class="text-xl font-bold text-white mb-2">Spreadsheet Hell</h3>
                    <p class="text-slate-400 text-sm">Copy-pasting data from emails to Excel, then to your CRM. One mistake breaks the whole chain.</p>
                </div>
                <div class="glass-card p-8 rounded-2xl border-l-4 border-l-orange-500">
                    <i class="fa-solid fa-user-clock text-3xl text-orange-500 mb-4"></i>
                    <h3 class="text-xl font-bold text-white mb-2">Chasing Updates</h3>
                    <p class="text-slate-400 text-sm">Texting your field team "Did you finish that job?" because the data is stuck on paper forms.</p>
                </div>
                <div class="glass-card p-8 rounded-2xl border-l-4 border-l-yellow-500">
                    <i class="fa-solid fa-money-bill-wave text-3xl text-yellow-500 mb-4"></i>
                    <h3 class="text-xl font-bold text-white mb-2">Leads Going Cold</h3>
                    <p class="text-slate-400 text-sm">Potential clients wait 4 hours for a quote. By then, they've already hired your competitor.</p>
                </div>
                
                <div class="glass-card p-8 rounded-2xl border-l-4 border-l-cyan-500">
                    <i class="fa-solid fa-sitemap text-3xl text-cyan-500 mb-4"></i>
                    <h3 class="text-xl font-bold text-white mb-2">Data Fragmentation</h3>
                    <p class="text-slate-400 text-sm">Your Customer A history is in the CRM, their invoice is in QuickBooks, and their support ticket is in Zendeskâ€”zero visibility.</p>
                </div>

                <div class="glass-card p-8 rounded-2xl border-l-4 border-l-indigo-500">
                    <i class="fa-solid fa-chart-line text-3xl text-indigo-500 mb-4"></i>
                    <h3 class="text-xl font-bold text-white mb-2">Slow Reporting</h3>
                    <p class="text-slate-400 text-sm">You need yesterday's sales report now, but the analyst takes until noon to compile and clean the data for the board meeting.</p>
                </div>

                <div class="glass-card p-8 rounded-2xl border-l-4 border-l-pink-500">
                    <i class="fa-solid fa-user-plus text-3xl text-pink-500 mb-4"></i>
                    <h3 class="text-xl font-bold text-white mb-2">Client Onboarding Chaos</h3>
                    <p class="text-slate-400 text-sm">A new client signs the contract, but setting up their accounts, licenses, and kickoff meeting takes 10 manual steps and 4 different employees.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="services" class="py-24">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="mb-12">
                <span class="text-brand-primary font-bold tracking-wider uppercase text-sm">Our Expertise</span>
                <h2 class="text-4xl font-bold text-white mt-2 font-display">The Automation Toolkit</h2>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6 auto-rows-[minmax(200px,auto)]">
                
                <div class="glass-card p-8 rounded-3xl md:col-span-2 lg:row-span-2 relative overflow-hidden group">
                    <div class="absolute right-0 top-0 w-64 h-64 bg-brand-primary/10 rounded-full blur-3xl -mr-16 -mt-16 transition-all group-hover:bg-brand-primary/20"></div>
                    <div class="relative z-10 h-full flex flex-col justify-between">
                        <div>
                            <div class="w-12 h-12 bg-slate-800 rounded-xl flex items-center justify-center mb-6 border border-slate-700">
                                <i class="fa-solid fa-diagram-project text-2xl text-brand-primary"></i>
                            </div>
                            <h3 class="text-2xl font-bold text-white mb-3">Workflow Engineering</h3>
                            <p class="text-slate-400 leading-relaxed">
                                We map your entire business logic, identify failure points, and rebuild it using Make.com, Zapier, or n8n. This includes everything from simple cross-app notifications to complex multi-stage systems: 
                                <strong class="text-white">conditional routing, automated data transformation, error handling, and multi-user approval processes.</strong> We ensure data integrity and system reliability, eliminating costly manual checks.
                            </p>
                        </div>
                        <div class="mt-8">
                            <div class="flex gap-2">
                                <span class="px-3 py-1 bg-slate-800 rounded-full text-xs text-slate-300 border border-slate-700">Advanced Logic</span>
                                <span class="px-3 py-1 bg-slate-800 rounded-full text-xs text-slate-300 border border-slate-700">Error Handling</span>
                                <span class="px-3 py-1 bg-slate-800 rounded-full text-xs text-slate-300 border border-slate-700">Audit Trails</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="glass-card p-8 rounded-3xl md:col-span-1 lg:col-span-2">
                    <div class="flex items-start justify-between">
                        <div>
                            <h3 class="text-xl font-bold text-white mb-2">Custom Internal Apps</h3>
                            <p class="text-slate-400 text-sm mb-4">Give your team a simple mobile interface. No code, low cost.</p>
                            <div class="flex gap-2">
                                <i class="fa-brands fa-android text-slate-500"></i>
                                <i class="fa-brands fa-apple text-slate-500"></i>
                            </div>
                        </div>
                        <div class="w-12 h-12 bg-slate-800 rounded-xl flex items-center justify-center border border-slate-700">
                            <i class="fa-solid fa-mobile-screen text-white"></i>
                        </div>
                    </div>
                </div>
                
                <div class="glass-card p-8 rounded-3xl md:col-span-1">
                    <div class="h-full flex flex-col justify-between">
                        <i class="fa-solid fa-database text-2xl text-brand-success mb-4"></i>
                        <div>
                            <h3 class="text-lg font-bold text-white">Data Warehousing (ELT)</h3>
                            <p class="text-slate-400 text-sm mt-2">Automated extraction, loading, and transformation to build centralized reporting databases.</p>
                        </div>
                    </div>
                </div>

                <div class="glass-card p-8 rounded-3xl md:col-span-1">
                    <div class="h-full flex flex-col justify-between">
                        <i class="fa-solid fa-handshake text-2xl text-red-400 mb-4"></i>
                        <div>
                            <h3 class="text-lg font-bold text-white">Legacy Modernization</h3>
                            <p class="text-slate-400 text-sm mt-2">Integrating old, critical systems with new cloud-based tools via custom APIs and webhooks.</p>
                        </div>
                    </div>
                </div>

                <div class="glass-card p-8 rounded-3xl md:col-span-1">
                    <div class="h-full flex flex-col justify-between">
                        <i class="fa-solid fa-code text-2xl text-brand-accent mb-4"></i>
                        <div>
                            <h3 class="text-lg font-bold text-white">Custom APIs</h3>
                            <p class="text-slate-400 text-sm mt-2">Python scripts & Webhooks for when standard tools aren't enough.</p>
                        </div>
                    </div>
                </div>

                <div class="glass-card p-8 rounded-3xl md:col-span-1 bg-gradient-to-br from-slate-900 to-brand-primary/20 border-brand-primary/30">
                    <div class="h-full flex flex-col justify-between">
                        <i class="fa-solid fa-wand-magic-sparkles text-2xl text-white mb-4"></i>
                        <div>
                            <h3 class="text-lg font-bold text-white">AI Agents</h3>
                            <p class="text-slate-300 text-sm mt-2">Integrate ChatGPT to parse emails, write drafts, and analyze data.</p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <section id="cases" class="py-24 bg-slate-900/50 border-t border-slate-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-end mb-12">
                <div>
                    <h2 class="text-3xl font-bold text-white mb-4 font-display">Recent Wins</h2>
                    <p class="text-slate-400">Complex, multi-step problems we solved for high-efficiency teams.</p>
                </div>
            </div>

            <div class="grid md:grid-cols-2 gap-8">
                
                <div class="glass-card rounded-2xl overflow-hidden group hover:border-brand-primary/50 transition-colors">
                    <div class="h-48 bg-slate-800 relative overflow-hidden">
                        <div class="absolute inset-0 flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800 p-4">
                            <div class="flex items-center space-x-3 text-white/50 text-xs">
                                <i class="fa-brands fa-facebook text-4xl text-blue-600/80"></i>
                                <i class="fa-solid fa-arrow-right text-brand-primary/80"></i>
                                <i class="fa-solid fa-bolt text-4xl text-yellow-500/80"></i>
                                <i class="fa-solid fa-arrow-right text-brand-primary/80"></i>
                                <i class="fa-solid fa-circle-check text-4xl text-brand-success/80"></i>
                                <i class="fa-solid fa-arrow-right text-brand-primary/80"></i>
                                <i class="fa-brands fa-hubspot text-4xl text-orange-500/80"></i>
                                <i class="fa-solid fa-arrow-right text-brand-primary/80"></i>
                                <i class="fa-brands fa-slack text-4xl text-red-400/80"></i>
                            </div>
                        </div>
                    </div>
                    <div class="p-8">
                        <div class="flex items-center gap-2 text-brand-success text-xs font-bold uppercase tracking-wide mb-3">
                            <i class="fa-solid fa-check-circle"></i> Saved 15h/Week
                        </div>
                        <h3 class="text-xl font-bold text-white mb-3">Real Estate Lead Router (30-Sec SLA)</h3>
                        <p class="text-slate-400 mb-6">Built a Make.com scenario that instantly scrapes leads from Facebook Ads, validates the phone number, adds them to HubSpot, and notifies the sales agent via Slack within 30 seconds, ensuring zero cold leads.</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="text-xs font-mono text-slate-500 border border-slate-800 px-2 py-1 rounded">Make</span>
                            <span class="text-xs font-mono text-slate-500 border border-slate-800 px-2 py-1 rounded">HubSpot</span>
                            <span class="text-xs font-mono text-slate-500 border border-slate-800 px-2 py-1 rounded">Slack</span>
                        </div>
                    </div>
                </div>

                <div class="glass-card rounded-2xl overflow-hidden group hover:border-brand-primary/50 transition-colors">
                    <div class="h-48 bg-slate-800 relative overflow-hidden">
                        <div class="absolute inset-0 flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800 p-4">
                            <div class="flex items-center space-x-3 text-white/50 text-xs">
                                <i class="fa-solid fa-mobile-screen-button text-4xl text-white/80"></i>
                                <i class="fa-solid fa-arrow-right text-brand-primary/80"></i>
                                <i class="fa-brands fa-google text-4xl text-green-500/80"></i>
                                <i class="fa-solid fa-arrow-right text-brand-primary/80"></i>
                                <i class="fa-solid fa-bolt text-4xl text-yellow-500/80"></i>
                                <i class="fa-solid fa-arrow-right text-brand-primary/80"></i>
                                <i class="fa-solid fa-file-pdf text-4xl text-red-500/80"></i>
                                <i class="fa-solid fa-arrow-right text-brand-primary/80"></i>
                                <i class="fa-solid fa-envelope text-4xl text-blue-400/80"></i>
                            </div>
                        </div>
                    </div>
                    <div class="p-8">
                        <div class="flex items-center gap-2 text-brand-success text-xs font-bold uppercase tracking-wide mb-3">
                            <i class="fa-solid fa-check-circle"></i> Removed Paper Forms
                        </div>
                        <h3 class="text-xl font-bold text-white mb-3">Construction Field App & Auto-Reporting</h3>
                        <p class="text-slate-400 mb-6">Created a Glide app for site managers to upload daily logs and photos. Data is instantly synced, and a Zapier automation generates a branded, structured PDF report that is emailed to the client at a fixed time daily.</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="text-xs font-mono text-slate-500 border border-slate-800 px-2 py-1 rounded">Glide</span>
                            <span class="text-xs font-mono text-slate-500 border border-slate-800 px-2 py-1 rounded">Google Sheets</span>
                            <span class="text-xs font-mono text-slate-500 border border-slate-800 px-2 py-1 rounded">PDF API</span>
                        </div>
                    </div>
                </div>

                <div class="glass-card rounded-2xl overflow-hidden group hover:border-brand-primary/50 transition-colors">
                    <div class="h-48 bg-slate-800 relative overflow-hidden">
                        <div class="absolute inset-0 flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800 p-4">
                            <div class="flex items-center space-x-3 text-white/50 text-xs">
                                <i class="fa-brands fa-cc-stripe text-4xl text-purple-400/80"></i>
                                <i class="fa-solid fa-arrow-right text-brand-primary/80"></i>
                                <i class="fa-solid fa-bolt text-4xl text-yellow-500/80"></i>
                                <i class="fa-solid fa-arrow-right text-brand-primary/80"></i>
                                <i class="fa-solid fa-shield-halved text-4xl text-brand-accent/80"></i>
                                <i class="fa-solid fa-arrow-right text-brand-primary/80"></i>
                                <i class="fa-solid fa-lock text-4xl text-red-500/80"></i>
                                <i class="fa-solid fa-arrow-right text-brand-primary/80"></i>
                                <i class="fa-solid fa-ticket text-4xl text-cyan-400/80"></i>
                            </div>
                        </div>
                    </div>
                    <div class="p-8">
                        <div class="flex items-center gap-2 text-brand-success text-xs font-bold uppercase tracking-wide mb-3">
                            <i class="fa-solid fa-check-circle"></i> Reduced Fraud by 8%
                        </div>
                        <h3 class="text-xl font-bold text-white mb-3">Fraud & Chargeback Triage System</h3>
                        <p class="text-slate-400 mb-6">A high-velocity Make.com flow that scores all new Stripe payments. If the fraud score exceeds a threshold, it automatically holds the refund, creates a priority ticket in Intercom, and generates a data summary for the finance team review.</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="text-xs font-mono text-slate-500 border border-slate-800 px-2 py-1 rounded">Make</span>
                            <span class="text-xs font-mono text-slate-500 border border-slate-800 px-2 py-1 rounded">Stripe</span>
                            <span class="text-xs font-mono text-slate-500 border border-slate-800 px-2 py-1 rounded">Intercom</span>
                            <span class="text-xs font-mono text-slate-500 border border-slate-800 px-2 py-1 rounded">Custom Script</span>
                        </div>
                    </div>
                </div>

                <div class="glass-card rounded-2xl overflow-hidden group hover:border-brand-primary/50 transition-colors">
                    <div class="h-48 bg-slate-800 relative overflow-hidden">
                        <div class="absolute inset-0 flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800 p-4">
                            <div class="flex items-center space-x-3 text-white/50 text-xs">
                                <i class="fa-solid fa-rss text-4xl text-orange-400/80"></i>
                                <i class="fa-solid fa-arrow-right text-brand-primary/80"></i>
                                <i class="fa-solid fa-bolt text-4xl text-yellow-500/80"></i>
                                <i class="fa-solid fa-arrow-right text-brand-primary/80"></i>
                                <i class="fa-solid fa-brain text-4xl text-brand-accent/80"></i>
                                <i class="fa-solid fa-arrow-right text-brand-primary/80"></i>
                                <i class="fa-solid fa-database text-4xl text-cyan-400/80"></i>
                                <i class="fa-solid fa-arrow-right text-brand-primary/80"></i>
                                <i class="fa-solid fa-calendar-check text-4xl text-green-500/80"></i>
                                <i class="fa-solid fa-arrow-right text-brand-primary/80"></i>
                                <i class="fa-brands fa-buffer text-4xl text-orange-400/80"></i>
                            </div>
                        </div>
                    </div>
                    <div class="p-8">
                        <div class="flex items-center gap-2 text-brand-success text-xs font-bold uppercase tracking-wide mb-3">
                            <i class="fa-solid fa-check-circle"></i> 400% Content Output
                        </div>
                        <h3 class="text-xl font-bold text-white mb-3">AI-Drafted Social Posts w/ Approval Gate</h3>
                        <p class="text-slate-400 mb-6">Uses Zapier to monitor industry news feeds. It sends the article text to OpenAI to draft 3 social posts, routes them to an Airtable approval queue, and auto-schedules the approved content via Buffer for multi-platform distribution.</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="text-xs font-mono text-slate-500 border border-slate-800 px-2 py-1 rounded">Zapier</span>
                            <span class="text-xs font-mono text-slate-500 border border-slate-800 px-2 py-1 rounded">OpenAI</span>
                            <span class="text-xs font-mono text-slate-500 border border-slate-800 px-2 py-1 rounded">Airtable</span>
                            <span class="text-xs font-mono text-slate-500 border border-slate-800 px-2 py-1 rounded">Buffer</span>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <section id="process" class="py-24">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid lg:grid-cols-2 gap-16 items-center">
                <div>
                    <h2 class="text-3xl font-bold text-white mb-6 font-display">The Blueprint to Freedom</h2>
                    <p class="text-slate-400 text-lg mb-8">
                        We don't guess. We follow a strict protocol to ensure your automation works 100% of the time.
                    </p>
                    
                    <div class="space-y-8 relative">
                        <div class="absolute left-5 top-0 bottom-0 w-0.5 bg-slate-800"></div>
                        
                        <div class="relative flex gap-6">
                            <div class="flex-shrink-0 w-10 h-10 rounded-full bg-brand-primary flex items-center justify-center font-bold text-white relative z-10 shadow-[0_0_10px_rgba(59,130,246,0.5)]">1</div>
                            <div>
                                <h4 class="text-xl font-bold text-white">Audit & Strategy</h4>
                                <p class="text-slate-400 mt-1">We screen share and watch you work. We identify the bottlenecks costing you the most money.</p>
                            </div>
                        </div>
                        <div class="relative flex gap-6">
                            <div class="flex-shrink-0 w-10 h-10 rounded-full bg-brand-dark border border-brand-primary text-brand-primary flex items-center justify-center font-bold relative z-10">2</div>
                            <div>
                                <h4 class="text-xl font-bold text-white">Visual Blueprint</h4>
                                <p class="text-slate-400 mt-1">We design the logic on a whiteboard. You approve the flow before we write a single line of code.</p>
                            </div>
                        </div>
                        <div class="relative flex gap-6">
                            <div class="flex-shrink-0 w-10 h-10 rounded-full bg-brand-dark border border-slate-700 text-slate-500 flex items-center justify-center font-bold relative z-10">3</div>
                            <div>
                                <h4 class="text-xl font-bold text-white">Build & Handover</h4>
                                <p class="text-slate-400 mt-1">We build it, test it, and record a Loom video explaining how it works. You own the intellectual property.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="relative">
                    <div class="glass-card p-8 rounded-2xl border border-slate-700 relative z-10">
                         <h5 class="text-xs font-bold text-slate-500 uppercase mb-4">Live Scenario Status</h5>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between p-4 bg-slate-800/50 rounded-lg border border-slate-700/50">
                                <div class="flex items-center gap-3">
                                    <div class="w-8 h-8 bg-blue-500 rounded flex items-center justify-center"><i class="fa-solid fa-envelope text-white text-xs"></i></div>
                                    <span class="text-sm font-medium text-white">Trigger: New Email</span>
                                </div>
                                <span class="text-xs text-brand-success font-mono">Success (200 OK)</span>
                            </div>
                            
                            <div class="flex justify-center">
                                <i class="fa-solid fa-arrow-down text-slate-600"></i>
                            </div>

                            <div class="flex items-center justify-between p-4 bg-slate-800/50 rounded-lg border border-slate-700/50 relative overflow-hidden">
                                <div class="absolute top-0 left-0 h-full w-1 bg-brand-accent"></div>
                                <div class="flex items-center gap-3">
                                    <div class="w-8 h-8 bg-purple-600 rounded flex items-center justify-center"><i class="fa-solid fa-database text-white text-xs"></i></div>
                                    <span class="text-sm font-medium text-white">Action: Insert Record (Airtable)</span>
                                </div>
                                <span class="text-xs text-yellow-500 font-mono">Pending</span>
                            </div>

                            <div class="flex justify-center">
                                <i class="fa-solid fa-arrow-down text-slate-600"></i>
                            </div>
                            
                            <div class="flex items-center justify-between p-4 bg-slate-800/50 rounded-lg border border-slate-700/50">
                                <div class="flex items-center gap-3">
                                    <div class="w-8 h-8 bg-green-500/20 rounded flex items-center justify-center"><i class="fa-brands fa-slack text-green-500 text-xs"></i></div>
                                    <span class="text-sm font-medium text-slate-500">Action: Send Slack Alert</span>
                                </div>
                                <span class="text-xs text-slate-600 font-mono">Waiting</span>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="faq" class="py-24 bg-slate-900/50 border-y border-slate-800">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <span class="text-brand-primary font-bold tracking-wider uppercase text-sm">Have Questions?</span>
                <h2 class="text-4xl font-bold text-white mt-2 font-display">Frequently Asked Questions</h2>
            </div>
            
            <div class="space-y-4">
                
                <div class="faq-item glass-card rounded-xl">
                    <button class="w-full text-left p-6 flex justify-between items-center text-white font-semibold" onclick="toggleFaq(this.closest('.faq-item'))">
                        <span>Who owns the Intellectual Property (IP) of the workflows?</span>
                        <i class="fa-solid fa-chevron-down faq-icon text-brand-primary"></i>
                    </button>
                    <div class="faq-content p-6 pt-0">
                        <p class="text-slate-400 text-sm">You do, 100%. We build the automations directly within your existing accounts (Make, Zapier, n8n, etc.). You retain all control, ownership, and access to the blueprints and the data flow.</p>
                    </div>
                </div>

                <div class="faq-item glass-card rounded-xl">
                    <button class="w-full text-left p-6 flex justify-between items-center text-white font-semibold" onclick="toggleFaq(this.closest('.faq-item'))">
                        <span>How much does an automation project cost?</span>
                        <i class="fa-solid fa-chevron-down faq-icon text-brand-primary"></i>
                    </button>
                    <div class="faq-content p-6 pt-0">
                        <p class="text-slate-400 text-sm">We use fixed pricing based on complexity, provided after the initial discovery session. Simple automations often start at $500, while complex, multi-stage systems requiring multiple apps and custom logic typically range from $2,000 to $5,000.</p>
                    </div>
                </div>

                <div class="faq-item glass-card rounded-xl">
                    <button class="w-full text-left p-6 flex justify-between items-center text-white font-semibold" onclick="toggleFaq(this.closest('.faq-item'))">
                        <span>What if the automation breaks after it's delivered?</span>
                        <i class="fa-solid fa-chevron-down faq-icon text-brand-primary"></i>
                    </button>
                    <div class="faq-content p-6 pt-0">
                        <p class="text-slate-400 text-sm">Every project includes a 30-day bug fix warranty to cover any unexpected technical issues. For long-term reliability, we offer optional quarterly maintenance plans that include monitoring, handling platform API changes, and proactive fixes.</p>
                    </div>
                </div>
                
                 <div class="faq-item glass-card rounded-xl">
                    <button class="w-full text-left p-6 flex justify-between items-center text-white font-semibold" onclick="toggleFaq(this.closest('.faq-item'))">
                        <span>How quickly can you implement a new workflow?</span>
                        <i class="fa-solid fa-chevron-down faq-icon text-brand-primary"></i>
                    </button>
                    <div class="faq-content p-6 pt-0">
                        <p class="text-slate-400 text-sm">Most standard projects are completed, thoroughly tested, and handed over within 1 to 3 weeks of finalizing the Visual Blueprint. We prioritize speed and accuracy thanks to our low-code approach.</p>
                    </div>
                </div>

            </div>
        </div>
    </section>
    
    <section id="contact" class="py-24">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="bg-slate-900/50 rounded-3xl p-10 lg:p-16 border border-slate-700/50 shadow-xl">
                <h2 class="text-4xl font-bold text-white mb-4 font-display">Ready to Maximize Your Focus?</h2>
                <p class="text-xl text-slate-400 mb-8 max-w-2xl mx-auto">
                    Stop wasting time on repetitive tasks. Book a free 30-minute discovery call to map your first automation.
                </p>
                <a href="https://calendar.app.google/j2ce6mmyMGyUxcGk6" target="_blank" class="bg-brand-primary text-white hover:bg-blue-600 px-8 py-4 rounded-full text-lg font-bold transition-all shadow-lg shadow-brand-primary/30">
                    Schedule Your Free Call Today
                </a>
            </div>
        </div>
    </section>

    <footer class="bg-brand-dark py-12 border-t border-slate-900">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-slate-400 text-sm">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-10">
                <div class="col-span-2 md:col-span-1">
                    <div class="text-xl font-bold text-white tracking-tight font-display mb-4">
                        <span class="text-brand-primary">DS</span> Automations
                    </div>
                    <p>Building the operational backend for high-growth businesses.</p>
                    <div class="flex gap-4 mt-4 text-white text-lg">
                        <i class="fa-brands fa-linkedin hover:text-brand-primary cursor-pointer transition-colors"></i>
                        <i class="fa-brands fa-twitter hover:text-brand-primary cursor-pointer transition-colors"></i>
                    </div>
                </div>
                <div>
                    <h5 class="font-bold text-white mb-3 uppercase tracking-wider">Company</h5>
                    <ul class="space-y-2">
                        <li><a href="#services" class="hover:text-white transition-colors">Services</a></li>
                        <li><a href="#cases" class="hover:text-white transition-colors">Case Studies</a></li>
                        <li><a href="#process" class="hover:text-white transition-colors">Our Process</a></li>
                    </ul>
                </div>
                <div>
                    <h5 class="font-bold text-white mb-3 uppercase tracking-wider">Resources</h5>
                    <ul class="space-y-2">
                        <li><a href="#faq" class="hover:text-white transition-colors">FAQ</a></li>
                        <li><a href="https://calendar.app.google/j2ce6mmyMGyUxcGk6" target="_blank" class="hover:text-white transition-colors">Contact Us</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Blog (Coming Soon)</a></li>
                    </ul>
                </div>
                <div>
                    <h5 class="font-bold text-white mb-3 uppercase tracking-wider">Legal</h5>
                    <ul class="space-y-2">
                        <li><a href="#" class="hover:text-white transition-colors">Terms of Service</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Privacy Policy</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-slate-900 pt-8 flex flex-col md:flex-row justify-between items-center gap-4">
                <div>&copy; 2025 DS Automations. All rights reserved.</div>
                <div class="flex items-center gap-2 text-xs">
                    <span class="w-2 h-2 rounded-full bg-green-500"></span> Systems Operational
                </div>
            </div>
        </div>
    </footer>
    
    <div id="chat-container" class="fixed bottom-24 right-4 sm:right-6 z-50 w-full max-w-sm md:max-w-md bg-brand-card rounded-2xl shadow-2xl border border-slate-700/50">
        <div class="p-4 bg-brand-primary/20 rounded-t-2xl flex items-center justify-between border-b border-slate-700">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 rounded-full bg-brand-primary flex items-center justify-center">
                    <i class="fa-solid fa-robot text-white text-sm"></i>
                </div>
                <div>
                    <p class="text-white font-bold text-sm">DS Automation Assistant</p>
                    <p class="text-xs text-brand-success flex items-center gap-1">
                        <span class="relative flex h-2 w-2">
                            <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                            <span class="relative inline-flex rounded-full h-2 w-2 bg-green-500"></span>
                        </span> Online
                    </p>
                </div>
            </div>
            <button onclick="toggleChat()" class="text-slate-300 hover:text-white p-1">
                <i class="fa-solid fa-xmark text-lg"></i>
            </button>
        </div>
        
        <div id="chat-messages" class="p-4 space-y-4">
            </div>
        
        <div class="p-4 border-t border-slate-700">
            <div id="loading-indicator" class="hidden text-xs text-slate-500 mb-2">
                <i class="fa-solid fa-spinner fa-spin mr-2"></i> Thinking...
            </div>
            <form id="chat-form" class="flex gap-2">
                <input type="text" id="chat-input" placeholder="Ask about automations, cost, or process..." class="w-full p-3 rounded-lg bg-slate-800 text-white placeholder-slate-500 border border-slate-700 focus:border-brand-primary focus:outline-none text-sm">
                <button type="submit" id="send-btn" class="flex-shrink-0 w-12 h-12 bg-brand-primary hover:bg-blue-600 rounded-lg text-white transition-colors">
                    <i class="fa-solid fa-paper-plane"></i>
                </button>
            </form>
        </div>
    </div>

    <a href="https://calendar.app.google/j2ce6mmyMGyUxcGk6" target="_blank" id="chat-bubble" class="fixed bottom-6 right-6 z-50 w-14 h-14 bg-brand-primary rounded-full flex items-center justify-center text-white text-xl shadow-xl hover:bg-blue-600 transition-transform hover:scale-105">
        <i class="fa-solid fa-comment-dots"></i>
    </a>
    
    <script>
        // --- General Website JS ---
        // Mobile Menu Toggle
        const btn = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-menu');

        btn.addEventListener('click', () => {
            menu.classList.toggle('hidden');
        });

        // Close menu when clicking a link
        menu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                menu.classList.add('hidden');
            });
        });

        // FAQ Toggle Logic
        function toggleFaq(element) {
            // Close all other FAQs
            const allFaqs = document.querySelectorAll('.faq-item');
            allFaqs.forEach(item => {
                if (item !== element) {
                    item.classList.remove('active');
                }
            });
            // Toggle clicked FAQ
            element.classList.toggle('active');
        }

        // --- AI Chatbot JS ---
        let chatHistory = [];
        const CHAT_MODEL = 'gemini-2.5-flash-preview-09-2025';
        const API_KEY = ""; // Using empty API key for Canvas environment

        const chatContainer = document.getElementById('chat-container');
        const chatMessages = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');
        const chatForm = document.getElementById('chat-form');
        const loadingIndicator = document.getElementById('loading-indicator');

        const initialMessage = "Hello! I'm the DS Automations Assistant. How can I help you streamline your business or answer your questions about our Make/Zapier workflows?";

        // Replaced function to toggle chat UI with click handler on the chat bubble
        function toggleChat() {
            chatContainer.classList.toggle('open');
            if (chatContainer.classList.contains('open')) {
                // Ensure initial message is there when opening
                if (chatHistory.length === 0) {
                    addMessage('model', initialMessage);
                }
                // Scroll to bottom
                chatMessages.scrollTop = chatMessages.scrollHeight;
                chatInput.focus();
            }
        }

        function addMessage(role, text) {
            const isUser = role === 'user';
            
            // Add message to chat history
            if (role !== 'system') { // Don't track system message
                chatHistory.push({ role: role, parts: [{ text: text }] });
            }

            const msgDiv = document.createElement('div');
            msgDiv.className = isUser ? 'flex justify-end' : 'flex justify-start';
            
            const contentDiv = document.createElement('div');
            contentDiv.className = `max-w-[80%] p-3 text-sm ${isUser ? 'chat-message-user text-white' : 'chat-message-ai text-slate-200'}`;
            contentDiv.innerText = text;

            msgDiv.appendChild(contentDiv);
            chatMessages.appendChild(msgDiv);
            
            chatMessages.scrollTop = chatMessages.scrollHeight; // Auto-scroll
        }

        const callGeminiApi = async (messages) => {
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/${CHAT_MODEL}:generateContent?key=${API_KEY}`;
            let retries = 0;
            const MAX_RETRIES = 3;
            let delay = 1000;

            // UPDATED systemPrompt with knowledge base
            const systemPrompt = `
                You are a helpful and knowledgeable AI assistant for DS Automations. 
                Your goal is to answer client questions about business automation (Zapier, Make, n8n), custom internal apps, pricing, and project process. 
                Keep responses concise, professional, and friendly, reflecting the content of the website (FAQ, Case Studies). 
                Encourage users to book a discovery call for specific details, like 'Ready to start? Book a discovery call via the link above!' 
                Avoid explicitly saying you are an AI or language model, just be a helpful assistant.

                **KNOWLEDGE BASE FOR QUICK REFERENCE:**
                1.  **Business Automation:** The core service. Focuses on connecting software (CRMs, spreadsheets, marketing tools) to move data and execute tasks without human intervention. This saves time, reduces errors, and ensures consistency. It's different from full code development or RPA (Robotic Process Automation, which often mimics human desktop actions).
                2.  **Key Automation Concepts:**
                    * **Trigger:** The specific event that initiates a workflow (e.g., a new lead added, a payment processed, an email received).
                    * **Action:** The task performed after the trigger or a previous step (e.g., sending a Slack message, creating a database entry).
                    * **Scenario/Flow/Workflow:** The entire sequence of steps (Trigger + Logic + Actions) built in platforms like Make or Zapier.
                    * **Webhooks:** A core technical concept where one app sends an instant, automated notification (payload) to another app whenever a defined event occurs. This is how we achieve real-time responses.
                3.  **Key Business Metrics/Value:**
                    * **ROI (Return on Investment):** The key benefit of automation. By reducing manual time (labor cost) and errors, the cost of the automation project is quickly recouped.
                    * **SLA (Service Level Agreement):** Important for sales automations (like the 30-Sec Lead Router). It's the guaranteed response time for a critical process.
                    * **CAC (Customer Acquisition Cost):** Automation can lower CAC by optimizing marketing data flow and ensuring quicker lead follow-up.
                    * **LTV (Lifetime Value):** Automation can increase LTV by improving onboarding and customer service efficiency.
            `;

            const payload = {
                contents: messages,
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
            };

            while (retries < MAX_RETRIES) {
                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        if (response.status === 429) {
                            throw new Error('Rate limit exceeded (429)');
                        }
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    const result = await response.json();
                    const text = result.candidates?.[0]?.content?.parts?.[0]?.text || "Sorry, I'm having trouble connecting right now. Please try again or book a call!";
                    return text;

                } catch (error) {
                    retries++;
                    if (retries >= MAX_RETRIES) {
                        console.error('Gemini API failed after multiple retries:', error);
                        return "I am currently unable to process your request. Please try again later.";
                    }
                    // Exponential backoff
                    await new Promise(resolve => setTimeout(resolve, delay));
                    delay *= 2;
                }
            }
        };


        async function sendMessage(event) {
            event.preventDefault();
            const userText = chatInput.value.trim();

            if (!userText) return;

            // 1. Display user message
            addMessage('user', userText);
            chatInput.value = '';
            chatInput.disabled = true;
            document.getElementById('send-btn').disabled = true;
            loadingIndicator.classList.remove('hidden');

            try {
                // 2. Call the AI
                const aiResponse = await callGeminiApi(chatHistory);

                // 3. Display AI message
                addMessage('model', aiResponse);

            } catch (error) {
                console.error('Error during AI chat:', error);
                addMessage('model', "Apologies, I encountered an error trying to process that. Could you try asking in a different way?");
            } finally {
                // 4. Reset UI
                chatInput.disabled = false;
                document.getElementById('send-btn').disabled = false;
                loadingIndicator.classList.add('hidden');
                chatInput.focus();
            }
        }
        
        // --- Initialization ---
        window.onload = function() {
            // Set up form submission handler
            chatForm.addEventListener('submit', sendMessage);
            
            // Optional: Auto-open for demonstration, or keep closed by default
            // toggleChat(); 
        }

    </script>
</body>
</html>
